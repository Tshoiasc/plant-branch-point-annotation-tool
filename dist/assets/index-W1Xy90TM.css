:root{--primary-color: #2563eb;--primary-hover: #1d4ed8;--primary-active: #1e40af;--success-color: #16a34a;--success-hover: #15803d;--warning-color: #ea580c;--danger-color: #dc2626;--danger-hover: #b91c1c;--text-primary: #111827;--text-secondary: #6b7280;--text-tertiary: #9ca3af;--bg-primary: #ffffff;--bg-secondary: #f9fafb;--bg-tertiary: #f3f4f6;--bg-overlay: rgba(0, 0, 0, .5);--border-color: #e5e7eb;--border-hover: #d1d5db;--border-focus: var(--primary-color);--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / .05);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--spacing-xs: .25rem;--spacing-sm: .7rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--spacing-2xl: 3rem;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--font-size-3xl: 1.875rem;--transition-fast: .15s ease;--transition-normal: .25s ease;--transition-slow: .5s ease;--sidebar-width: 360px;--header-height: 60px;--panel-padding: var(--spacing-lg)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:var(--font-size-base);line-height:1.5;color:var(--text-primary);background-color:var(--bg-secondary);overflow:hidden}.loading-screen{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg-primary);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999}.loading-spinner{width:40px;height:40px;border:4px solid var(--bg-tertiary);border-top:4px solid var(--primary-color);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:var(--spacing-lg)}.main-app{display:flex;flex-direction:column;height:100vh;width:100vw;background-color:var(--bg-secondary)}.app-header{display:flex;justify-content:space-between;align-items:center;padding:0 var(--spacing-xl);height:var(--header-height);background-color:var(--bg-primary);border-bottom:1px solid var(--border-color);box-shadow:var(--shadow-sm);flex-shrink:0}.app-title{font-size:var(--font-size-xl);font-weight:600;color:var(--text-primary)}.header-controls{display:flex;align-items:center;gap:var(--spacing-lg)}.progress-info{font-size:var(--font-size-sm);color:var(--text-secondary)}.app-main{display:grid;grid-template-columns:var(--sidebar-width) 300px 1fr;flex:1;min-height:0;overflow:hidden}.plant-list-panel{width:var(--sidebar-width);background-color:var(--bg-primary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;flex-shrink:0;max-width:var(--sidebar-width);min-width:var(--sidebar-width);overflow:hidden}.panel-header{padding:var(--spacing-lg);border-bottom:1px solid var(--border-color);flex-shrink:0}.panel-header h2{font-size:var(--font-size-lg);font-weight:600;margin-bottom:var(--spacing-md)}.search-controls{display:flex!important;gap:10px!important;width:100%!important}#plant-search,.search-controls input{flex:1 1 auto!important;padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:.375rem;font-size:var(--font-size-sm);transition:border-color var(--transition-fast)}#status-filter,.search-controls select{min-width:140px!important;max-width:180px!important;flex:0 0 auto!important;padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:.375rem;font-size:var(--font-size-sm);transition:border-color var(--transition-fast)}.search-controls input:focus,.search-controls select:focus{outline:none;border-color:var(--border-focus);box-shadow:0 0 0 1px var(--border-focus)}.progress-stats-sidebar{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid var(--border-color);flex-shrink:0}.progress-container{display:flex;flex-direction:column;gap:var(--spacing-sm)}.progress-info-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-xs)}.progress-text{display:flex;align-items:center;gap:var(--spacing-xs);font-size:var(--font-size-sm);color:var(--text-secondary)}.progress-percentage{margin-left:var(--spacing-xs);font-size:var(--font-size-lg);font-weight:600;color:var(--primary-color)}.stats-label{font-weight:500;color:var(--text-primary)}.stats-number{font-weight:600;color:var(--primary-color)}.stats-separator{color:var(--text-tertiary)}.stats-unit{color:var(--text-secondary)}.progress-bar-container{margin:var(--spacing-xs) 0}.progress-bar{width:100%;height:6px;background-color:var(--bg-tertiary);border-radius:3px;overflow:hidden}.progress-bar-fill{height:100%;background:linear-gradient(90deg,var(--primary-color) 0%,var(--primary-hover) 100%);border-radius:3px;transition:width var(--transition-normal)}.progress-details{display:flex;justify-content:center;align-items:center;gap:var(--spacing-sm);font-size:var(--font-size-xs);color:var(--text-secondary);margin-top:var(--spacing-xs)}.stats-detail{white-space:nowrap}.plant-list-container{flex:1;overflow-y:auto;overflow-x:hidden;padding:var(--spacing-sm);min-height:0;height:100%}.plant-item{padding:var(--spacing-md);margin-bottom:var(--spacing-sm);background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:.5rem;cursor:pointer;transition:all var(--transition-fast)}.plant-item:hover{border-color:var(--border-hover);box-shadow:var(--shadow-sm)}.plant-item.selected{border-color:var(--primary-color);box-shadow:0 0 0 1px var(--primary-color);background-color:rgba(37,99,235,.05)}.plant-item-content{display:flex;flex-direction:column;gap:var(--spacing-sm)}.plant-header{display:flex;align-items:center;gap:var(--spacing-sm)}.plant-status{font-size:var(--font-size-lg);line-height:1}.plant-id{font-weight:600;color:var(--text-primary);font-size:var(--font-size-sm)}.plant-info{display:flex;justify-content:space-between;align-items:center}.image-count{font-size:var(--font-size-xs);color:var(--text-secondary)}.status-text{font-size:var(--font-size-xs);color:var(--text-secondary);font-weight:500}.plant-view-info{font-size:var(--font-size-xs);color:var(--text-tertiary)}.view-angles{margin-bottom:var(--spacing-xs)}.selected-view{color:var(--primary-color);font-weight:500}.thumbnail-panel{width:300px;background-color:var(--bg-primary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;overflow:hidden}.section-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg);border-bottom:1px solid var(--border-color);flex-shrink:0}.section-header h3{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary);flex:1}.view-angle-section{padding:var(--spacing-md) var(--spacing-lg);background-color:var(--bg-secondary);border-bottom:1px solid var(--border-color);flex-shrink:0}.view-angle-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md)}.view-angle-header h4{font-size:var(--font-size-base);font-weight:600;color:var(--text-primary)}.view-angle-info{font-size:var(--font-size-sm);color:var(--text-secondary)}.view-angle-buttons{display:flex;flex-direction:column;gap:var(--spacing-xs)}.btn-view-angle{padding:var(--spacing-xs) var(--spacing-sm);font-size:var(--font-size-xs);background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:.375rem;cursor:pointer;transition:all var(--transition-fast);text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.btn-view-angle:hover:not(:disabled){border-color:var(--primary-color);background-color:rgba(37,99,235,.05)}.btn-view-angle.selected{background-color:var(--primary-color);color:#fff;border-color:var(--primary-color)}.btn-view-angle:disabled{opacity:.5;cursor:not-allowed;background-color:var(--bg-tertiary)}.thumbnail-container{flex:1;padding:var(--spacing-md);overflow-y:auto;overflow-x:hidden;min-height:0;height:100%}.image-thumbnail{width:100%;margin-bottom:var(--spacing-md);border:2px solid var(--border-color);border-radius:.5rem;background-color:var(--bg-primary);cursor:pointer;transition:all var(--transition-fast);overflow:hidden}.image-thumbnail:hover{border-color:var(--primary-color);box-shadow:var(--shadow-sm)}.image-thumbnail.selected{border-color:var(--primary-color);box-shadow:0 0 0 4px rgba(79,135,254,.4)}.thumbnail-image{position:relative;width:100%;height:120px;background-color:var(--bg-tertiary);display:flex;align-items:center;justify-content:center;overflow:hidden}.thumbnail-image img{width:100%;height:100%;display:none}.thumbnail-loading{position:absolute;font-size:var(--font-size-xs);color:var(--text-secondary);background-color:var(--bg-primary);padding:var(--spacing-xs);border-radius:.25rem;text-align:center}.thumbnail-info{padding:var(--spacing-sm);text-align:center;background-color:var(--bg-primary)}.image-thumbnail.has-annotations{border-color:#10b981;background-color:rgba(16,185,129,.05)}.image-thumbnail.has-annotations:hover{border-color:#059669;box-shadow:0 0 0 2px rgba(16,185,129,.2)}.annotation-badge{position:absolute;top:4px;right:4px;background-color:#10b981;color:#fff;font-size:10px;font-weight:600;padding:2px 6px;border-radius:10px;min-width:16px;text-align:center;box-shadow:0 1px 3px rgba(0,0,0,.3)}.annotation-status{font-size:var(--font-size-xs);color:#10b981;font-weight:500;margin-top:2px}.image-time{font-size:var(--font-size-xs);color:var(--text-secondary);line-height:1.2;word-break:break-all}.no-images{text-align:center;color:var(--text-secondary);padding:var(--spacing-xl);font-style:italic;font-size:var(--font-size-sm)}.annotation-panel{display:flex;flex-direction:column;min-height:0;background-color:var(--bg-primary)}.annotation-workspace{flex:1;display:grid;grid-template-columns:1fr 300px;overflow:hidden;min-height:0;width:100%;max-width:100%}.canvas-container{position:relative;background-color:var(--bg-tertiary);overflow:hidden;display:flex;align-items:center;justify-content:center;min-width:0;width:100%;min-height:300px}.annotation-canvas{border:1px solid var(--border-color);background-color:var(--bg-primary);cursor:crosshair;box-shadow:var(--shadow-md);max-width:100%;max-height:100%}.canvas-overlay{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:10}.zoom-info{position:absolute;top:var(--spacing-md);right:var(--spacing-md);background-color:rgba(0,0,0,.7);color:#fff;padding:var(--spacing-xs) var(--spacing-sm);border-radius:.25rem;font-size:var(--font-size-sm);font-weight:500;display:flex;align-items:center;gap:var(--spacing-xs);z-index:12}.zoom-indicator{width:8px;height:8px;border-radius:50%;background-color:var(--success-color)}.zoom-indicator.small{background-color:var(--warning-color)}.zoom-indicator.tiny{background-color:var(--danger-color)}.annotation-controls{position:absolute;top:calc(var(--spacing-md) + 40px);right:var(--spacing-md);display:flex;flex-direction:column;gap:var(--spacing-xs);z-index:12}.instruction-panel{padding:var(--spacing-sm);background-color:var(--bg-secondary);border-left:1px solid var(--border-color);overflow-y:auto;width:300px;max-width:300px;min-width:280px;height:100%;display:flex;flex-direction:column;gap:var(--spacing-sm)}.instruction-panel h4{font-size:var(--font-size-sm);font-weight:600;margin-bottom:var(--spacing-xs);color:var(--text-primary);padding:var(--spacing-xs) 0}.annotation-status-section{background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:.5rem;padding:var(--spacing-sm);margin-bottom:var(--spacing-sm);flex-shrink:0}.toolbar-section{margin-bottom:var(--spacing-sm);padding:var(--spacing-sm);background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:.5rem;flex-shrink:0}.view-controls-section{display:flex;gap:var(--spacing-xs);margin-bottom:var(--spacing-xs)}.direction-controls-section{margin-top:var(--spacing-xs)!important}.zoom-lock-section{padding:var(--spacing-sm);background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:.375rem;margin-top:var(--spacing-xs)!important}.instructions-section{padding:var(--spacing-sm);background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:.5rem;flex:0 1 auto;min-height:120px;max-height:300px;overflow:hidden}.instruction-panel ul{list-style:none;background:#f8fafc;border:1px solid #e2e8f0;border-radius:.375rem;padding:var(--spacing-xs);margin:0;font-size:var(--font-size-xs);max-height:150px;overflow-y:auto}.annotation-status-section{background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:.5rem;padding:var(--spacing-sm);margin-bottom:var(--spacing-sm);flex-shrink:0;min-height:auto}.direction-legend{padding:var(--spacing-sm);background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:.5rem;flex-shrink:0;margin-top:auto}.instruction-panel li{padding:var(--spacing-xs);border-bottom:1px solid #e2e8f0;display:flex;align-items:center;gap:var(--spacing-xs)}.instruction-panel li:last-child{border-bottom:none}.annotation-actions{display:flex;flex-direction:column;gap:var(--spacing-xs);margin-top:var(--spacing-sm);flex-shrink:0;padding:var(--spacing-sm);background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:.5rem}.fullscreen-loading{position:fixed;top:0;left:0;width:100vw;height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.loading-spinner{width:80px;height:80px;border:8px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:spin 1s ease-in-out infinite;margin-bottom:30px}@keyframes spin{to{transform:rotate(360deg)}}.loading-title{font-size:2rem;font-weight:600;margin-bottom:15px;text-align:center}.loading-subtitle{font-size:1.1rem;opacity:.9;text-align:center;margin-bottom:10px}.loading-details{font-size:.9rem;opacity:.7;text-align:center;max-width:400px;line-height:1.5}.loading-progress{margin-top:20px;text-align:center}.progress-bar{width:300px;height:4px;background:rgba(255,255,255,.3);border-radius:2px;overflow:hidden;margin:10px auto}.progress-fill{height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a);width:0%;transition:width .3s ease;border-radius:2px}.header-controls{display:none}.checkbox-label{display:flex;align-items:center;gap:var(--spacing-xs);font-size:var(--font-size-sm);color:var(--text-primary);cursor:pointer;user-select:none}.checkbox-label input[type=checkbox]{width:16px;height:16px;accent-color:var(--primary-color);cursor:pointer}.zoom-lock-controls{display:flex;align-items:center;gap:var(--spacing-xs)}.zoom-lock-controls input[type=number]{padding:2px 6px;border:1px solid var(--border-color);border-radius:.25rem;font-size:var(--font-size-xs);text-align:center}.auto-move-section,.real-time-change-section{padding:var(--spacing-sm);background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:.375rem}.plant-item.skipped{background-color:#fef3c7;border-color:#f59e0b;opacity:.8}.plant-item.skipped .plant-id{color:#92400e;text-decoration:line-through}.skip-reason{font-size:var(--font-size-xs);color:#92400e;font-style:italic;margin-top:var(--spacing-xs);padding:var(--spacing-xs);background-color:#fef3c7;border-radius:.25rem;border-left:3px solid #f59e0b}.skip-button{background-color:#f59e0b;color:#fff;border:none;padding:2px 6px;border-radius:.25rem;font-size:var(--font-size-xs);cursor:pointer;transition:background-color var(--transition-fast)}.skip-button:hover{background-color:#d97706}.skip-button.unskip-variant{background-color:#dc2626}.skip-button.unskip-variant:hover{background-color:#b91c1c}.state-buttons{display:flex;align-items:center;gap:5px}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.modal-close{background:none;border:none;font-size:24px;cursor:pointer;color:var(--text-secondary);padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all var(--transition-fast)}.modal-close:before{content:"✕";font-size:18px;transition:all .2s ease}.modal-close:hover{background-color:var(--bg-secondary);color:var(--text-primary)}.form-group{margin-bottom:var(--spacing-md)}.form-group label{display:block;margin-bottom:var(--spacing-xs);font-weight:500;color:var(--text-primary)}.form-group textarea{width:100%;padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:.375rem;font-family:inherit;font-size:var(--font-size-sm);resize:vertical;min-height:80px}.form-group textarea:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 1px var(--primary-color)}.modal-footer{display:flex;gap:var(--spacing-sm);justify-content:flex-end;margin-top:var(--spacing-lg);padding-top:var(--spacing-sm);border-top:1px solid var(--border-color)}.instruction-panel h4{font-size:var(--font-size-base);font-weight:600;margin-bottom:var(--spacing-md);color:var(--text-primary)}.instruction-panel ul{list-style:none;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;margin:var(--spacing-sm) 0 var(--spacing-lg) 0;padding:var(--spacing-md);flex:1;overflow-y:auto;min-height:0;box-shadow:0 1px 3px rgba(0,0,0,.05)}.instruction-panel ul li{margin-bottom:var(--spacing-xs);padding:var(--spacing-xs) 0;color:var(--text-secondary);font-size:var(--font-size-sm);line-height:1.5;position:relative;padding-left:16px}.instruction-panel ul li:before{content:"•";color:var(--primary-color);font-weight:700;position:absolute;left:0;top:var(--spacing-xs)}.instruction-panel li{padding:var(--spacing-xs) 0;font-size:var(--font-size-sm);color:var(--text-secondary);position:relative;line-height:1.4}.instruction-panel li:before{color:var(--primary-color);font-weight:700;position:absolute;left:0;top:var(--spacing-xs)}.toolbar-section h4{font-size:var(--font-size-sm);font-weight:600;margin-bottom:var(--spacing-sm);color:var(--text-primary)}.view-controls-section{display:flex;gap:var(--spacing-sm);flex-wrap:wrap}.annotation-status-section h4{margin-bottom:var(--spacing-sm);font-size:var(--font-size-sm);font-weight:600}.annotation-metadata{display:flex;flex-direction:column;gap:var(--spacing-xs);margin-bottom:var(--spacing-md)}.status-item{display:flex;justify-content:space-between;font-size:var(--font-size-xs)}.status-label{color:var(--text-secondary)}.status-value{font-weight:500;color:var(--text-primary)}.manual-adjustment-notice{background-color:rgba(251,191,36,.1);border:1px solid rgb(251 191 36 / .2);border-radius:.375rem;padding:var(--spacing-sm);font-size:var(--font-size-xs);color:#92400e}.manual-adjustment-notice p{margin-bottom:var(--spacing-xs)}.manual-adjustment-notice p:last-child{margin-bottom:0}.btn{display:inline-flex;align-items:center;justify-content:center;padding:var(--spacing-sm) var(--spacing-md);font-size:var(--font-size-sm);font-weight:500;border:1px solid transparent;border-radius:.375rem;cursor:pointer;transition:all var(--transition-fast);text-decoration:none;white-space:nowrap}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background-color:var(--primary-color);color:#fff;border-color:var(--primary-color)}.btn-primary:hover:not(:disabled){background-color:var(--primary-hover);border-color:var(--primary-hover)}.btn-primary:active{background-color:var(--primary-active);border-color:var(--primary-active)}.btn-secondary{background-color:var(--bg-primary);color:var(--text-primary);border-color:var(--border-color)}.btn-secondary:hover:not(:disabled){background-color:var(--bg-tertiary);border-color:var(--border-hover)}.btn-success{background-color:var(--success-color);color:#fff;border-color:var(--success-color)}.btn-success:hover:not(:disabled){background-color:var(--success-hover);border-color:var(--success-hover)}.btn-danger{background-color:var(--danger-color);border-color:var(--danger-color);color:#fff}.btn-danger:hover:not(:disabled){background-color:var(--danger-hover);border-color:var(--danger-hover)}.btn-danger:active{background-color:#991b1b;border-color:#991b1b}.btn-danger:disabled{background-color:#f3f4f6;border-color:#e5e7eb;color:#9ca3af;cursor:not-allowed;opacity:.6}.btn-small{padding:var(--spacing-xs) var(--spacing-sm);font-size:var(--font-size-xs)}.btn-icon{width:32px;height:32px;padding:0;font-size:var(--font-size-base);background-color:rgba(0,0,0,.7);color:#fff;border:none;pointer-events:auto}.btn-icon:hover:not(:disabled){background-color:rgba(0,0,0,.8)}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg-overlay);display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content{background-color:var(--bg-primary);border-radius:.5rem;padding:var(--spacing-xl);box-shadow:var(--shadow-lg);max-width:90vw;max-height:90vh;overflow-y:auto}.modal-content h3{font-size:var(--font-size-xl);font-weight:600;margin-bottom:var(--spacing-lg);color:var(--text-primary)}@media (max-width: 1400px){:root{--sidebar-width: 280px}.app-main{grid-template-columns:var(--sidebar-width) 280px 1fr}.thumbnail-panel{width:280px}.annotation-workspace{grid-template-columns:1fr 280px}.instruction-panel{width:280px;max-width:280px;min-width:260px}}@media (max-width: 1200px){:root{--sidebar-width: 260px}.app-main{grid-template-columns:var(--sidebar-width) 260px 1fr}.thumbnail-panel{width:260px}.annotation-workspace{grid-template-columns:1fr 260px}.instruction-panel{width:260px;max-width:260px;min-width:240px;padding:var(--spacing-md)}}@media (max-width: 1024px){:root{--sidebar-width: 240px}.app-main{grid-template-columns:var(--sidebar-width) 240px 1fr}.thumbnail-panel{width:240px}.annotation-workspace{grid-template-columns:1fr 240px}.instruction-panel{width:240px;max-width:240px;min-width:220px;padding:var(--spacing-md)}.thumbnail-image{height:100px}}@media (max-width: 768px){.app-main{grid-template-columns:1fr;grid-template-rows:300px 250px 1fr}.plant-list-panel{width:100%;max-width:100%;min-width:auto;border-right:none;border-bottom:1px solid var(--border-color)}.plant-list-container{height:100%}.thumbnail-panel{width:100%;border-right:none;border-bottom:1px solid var(--border-color)}.thumbnail-container{height:100%}.thumbnail-image{height:80px}.annotation-panel{width:100%}.annotation-workspace{grid-template-columns:1fr;grid-template-rows:1fr auto}.canvas-container{min-height:250px}.instruction-panel{width:100%;max-width:100%;min-width:auto;border-left:none;border-top:1px solid var(--border-color);height:100%}.view-angle-buttons{display:grid;grid-template-columns:1fr 1fr 1fr;gap:var(--spacing-xs)}.btn-view-angle{font-size:10px;padding:var(--spacing-xs)}}.plant-list-container::-webkit-scrollbar,.thumbnail-container::-webkit-scrollbar,.instruction-panel::-webkit-scrollbar{width:6px;height:6px}.plant-list-container::-webkit-scrollbar-track,.thumbnail-container::-webkit-scrollbar-track,.instruction-panel::-webkit-scrollbar-track{background:var(--bg-tertiary);border-radius:3px}.plant-list-container::-webkit-scrollbar-thumb,.thumbnail-container::-webkit-scrollbar-thumb,.instruction-panel::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.plant-list-container::-webkit-scrollbar-thumb:hover,.thumbnail-container::-webkit-scrollbar-thumb:hover,.instruction-panel::-webkit-scrollbar-thumb:hover{background:var(--border-hover)}.no-data{text-align:center;color:var(--text-secondary);padding:var(--spacing-2xl);font-style:italic}.branch-point-preview{position:absolute;top:var(--spacing-md);left:var(--spacing-md);width:200px;height:150px;background-color:rgba(255,255,255,.95);border:2px solid var(--primary-color);border-radius:.5rem;box-shadow:var(--shadow-lg);overflow:hidden;z-index:15;transition:opacity var(--transition-fast);backdrop-filter:blur(4px);resize:both;min-width:150px;min-height:120px;max-width:400px;max-height:300px}.branch-point-preview.hidden{opacity:0;pointer-events:none}.preview-header{background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-hover) 100%);color:#fff;padding:var(--spacing-xs) var(--spacing-sm);font-size:var(--font-size-xs);font-weight:600;text-align:center;display:flex;justify-content:space-between;align-items:center;cursor:move;user-select:none}.preview-header .close-btn{background:none;border:none;color:#fff;font-size:16px;cursor:pointer;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color var(--transition-fast)}.preview-header .close-btn:before{content:"✕";font-size:14px;transition:all .2s ease}.preview-header .close-btn:hover{background-color:rgba(255,255,255,.2)}.preview-controls{padding:var(--spacing-xs);background-color:rgba(255,255,255,.1);border-bottom:1px solid rgba(255,255,255,.2);display:flex;align-items:center;gap:var(--spacing-xs);font-size:var(--font-size-xs)}.preview-controls label{color:var(--text-color-secondary);font-weight:500;white-space:nowrap}.zoom-slider{flex:1;height:4px;border-radius:2px;background:rgba(255,255,255,.3);outline:none;-webkit-appearance:none}.zoom-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;border-radius:50%;background:var(--primary-color);cursor:pointer;border:2px solid white;box-shadow:0 1px 3px rgba(0,0,0,.3)}.zoom-slider::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:var(--primary-color);cursor:pointer;border:2px solid white;box-shadow:0 1px 3px rgba(0,0,0,.3)}#zoom-value{color:var(--primary-color);font-weight:600;min-width:24px;text-align:center}.preview-canvas-container{position:relative;width:100%;height:calc(100% - 24px);background-color:var(--bg-tertiary);display:flex;align-items:center;justify-content:center}.preview-canvas{max-width:100%;max-height:100%;border:none;background-color:var(--bg-primary)}.preview-loading{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:var(--font-size-xs);color:var(--text-secondary);text-align:center}.no-preview{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:var(--font-size-xs);color:var(--text-secondary);text-align:center;padding:var(--spacing-sm)}.keypoint-label{position:absolute;background-color:rgba(0,0,0,.6);color:#fff;padding:1px 3px;border-radius:2px;font-size:9px;font-weight:600;pointer-events:none;z-index:20;white-space:nowrap;text-align:center;min-width:12px;line-height:1;border:1px solid rgba(255,255,255,.4);box-shadow:0 1px 2px rgba(0,0,0,.3)}.keypoint-label.left-direction{background-color:rgba(255,68,68,.7);border-color:rgba(255,68,68,.8)}.keypoint-label.right-direction{background-color:rgba(68,68,255,.7);border-color:rgba(68,68,255,.8)}.keypoint-tooltip{position:absolute;background-color:rgba(0,0,0,.9);color:#fff;padding:var(--spacing-xs) var(--spacing-sm);border-radius:.375rem;font-size:var(--font-size-xs);pointer-events:none;z-index:25;white-space:nowrap;max-width:200px;text-align:left}.keypoint-tooltip:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:4px solid transparent;border-top-color:rgba(0,0,0,.9)}.annotation-size-info{position:absolute;bottom:var(--spacing-md);left:var(--spacing-md);background-color:rgba(0,0,0,.7);color:#fff;padding:var(--spacing-xs) var(--spacing-sm);border-radius:.25rem;font-size:var(--font-size-xs);display:none}.annotation-size-info.visible{display:block}@media (max-width: 1024px){.branch-point-preview{width:160px;height:120px}}@media (max-width: 768px){.branch-point-preview{width:140px;height:100px;top:var(--spacing-sm);left:var(--spacing-sm)}.keypoint-label{font-size:10px;padding:1px 4px}}.btn-special{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;transition:all .2s ease}.btn-special:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-1px);box-shadow:0 4px 12px rgba(16,185,129,.4)}.btn-special.active{background:linear-gradient(135deg,#f59e0b,#d97706);animation:pulse 2s infinite}.btn-special.active:hover{background:linear-gradient(135deg,#d97706,#b45309)}.btn-info{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;transition:all .2s ease}.btn-info:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-1px);box-shadow:0 4px 12px rgba(59,130,246,.4)}.btn-info.active{background:linear-gradient(135deg,#f59e0b,#d97706);animation:pulse 2s infinite}.btn-info.active:hover{background:linear-gradient(135deg,#d97706,#b45309)}@keyframes pulse{0%{box-shadow:0 0 rgba(245,158,11,.7)}70%{box-shadow:0 0 0 10px rgba(245,158,11,0)}to{box-shadow:0 0 rgba(245,158,11,0)}}.direction-controls-section{padding:8px 0;border-top:1px solid #e5e7eb}.direction-legend{margin:var(--spacing-md) 0;padding:var(--spacing-sm);background:var(--bg-primary);border:1px solid var(--border-color);border-radius:.375rem;flex-shrink:0}.direction-legend h5{margin:0 0 var(--spacing-xs) 0;font-size:var(--font-size-sm);font-weight:600}.direction-legend .legend-item{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.direction-legend .legend-color{display:inline-block;width:12px;height:12px;border-radius:50%;border:1px solid #ffffff}.direction-legend .legend-text{font-size:var(--font-size-xs);color:var(--text-secondary)}.direction-arrow{filter:drop-shadow(1px 1px 2px rgba(0,0,0,.3))}.direction-guide{animation:dash 1.5s linear infinite}@keyframes dash{to{stroke-dashoffset:-20}}.auto-direction-hint{position:absolute;top:10px;left:50%;transform:translate(-50%);background:rgba(245,158,11,.9);color:#fff;padding:8px 16px;border-radius:20px;font-size:12px;font-weight:600;z-index:1000;animation:fadeInOut 3s ease-in-out}@keyframes fadeInOut{0%,to{opacity:0;transform:translate(-50%) translateY(-10px)}10%,90%{opacity:1;transform:translate(-50%) translateY(0)}}#direction-save-options{background:#f9fafb;border:1px solid #e5e7eb;border-radius:6px;margin:20px 0;padding:15px}#direction-save-options h4{margin:0 0 10px;font-size:14px;color:#374151;font-weight:600}#direction-save-options label{display:block;margin-bottom:10px;cursor:pointer;font-size:13px}#direction-save-options input[type=radio]{margin-right:8px}#direction-save-options .option-description{font-size:12px;color:#6b7280;margin-left:25px;margin-top:3px;line-height:1.4}.note-modal-content{max-width:600px;max-height:80vh;overflow-y:auto}.note-list-modal-content{max-width:800px;max-height:80vh;overflow-y:auto}.note-form{display:flex;flex-direction:column;gap:var(--spacing-lg)}.note-form .form-group{display:flex;flex-direction:column;gap:var(--spacing-xs)}.note-form label{font-weight:500;color:var(--text-primary);font-size:var(--font-size-sm)}.note-form .required{color:var(--danger-color)}.note-form input,.note-form textarea,.note-form select{padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:6px;font-size:var(--font-size-base);transition:border-color .2s,box-shadow .2s}.note-form input:focus,.note-form textarea:focus,.note-form select:focus{outline:none;border-color:var(--border-focus);box-shadow:0 0 0 3px rgba(37,99,235,.1)}.note-form textarea{resize:vertical;min-height:120px}.char-counter{display:flex;justify-content:flex-end;font-size:var(--font-size-xs);color:var(--text-secondary);margin-top:var(--spacing-xs)}.form-help{font-size:var(--font-size-xs);color:var(--text-secondary);margin-top:var(--spacing-xs)}.note-list-controls{display:flex;flex-direction:column;gap:var(--spacing-md);margin-bottom:var(--spacing-lg);padding:var(--spacing-md);background-color:var(--bg-secondary);border-radius:8px}.search-group{display:flex;gap:var(--spacing-sm)}.search-group input{flex:1;padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:6px;font-size:var(--font-size-sm)}.filter-group{display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-sm)}.filter-group select{padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:6px;font-size:var(--font-size-sm)}.note-list-container{max-height:400px;overflow-y:auto;border:1px solid var(--border-color);border-radius:8px}.note-item{padding:var(--spacing-md);border-bottom:1px solid var(--border-color);transition:background-color .2s}.note-item:hover{background-color:var(--bg-secondary)}.note-item-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--spacing-sm)}.note-title{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary);margin:0;flex:1}.note-actions{display:flex;gap:var(--spacing-xs);margin-left:var(--spacing-sm)}.note-item-meta{display:flex;align-items:center;gap:var(--spacing-md);margin-bottom:var(--spacing-sm);font-size:var(--font-size-xs);color:var(--text-secondary)}.note-type{padding:2px 8px;border-radius:12px;font-size:var(--font-size-xs);font-weight:500;text-transform:uppercase}.note-type-general{background-color:#e0e7ff;color:#3730a3}.note-type-observation{background-color:#d1fae5;color:#065f46}.note-type-annotation{background-color:#fef3c7;color:#92400e}.note-timestamp{font-size:var(--font-size-xs);color:var(--text-tertiary)}.note-author{font-size:var(--font-size-xs);color:var(--text-secondary)}.note-content{color:var(--text-primary);line-height:1.5;margin-bottom:var(--spacing-sm)}.note-tags{display:flex;flex-wrap:wrap;gap:var(--spacing-xs)}.tag{padding:2px 6px;background-color:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;font-size:var(--font-size-xs);color:var(--text-secondary)}#plant-note-btn,#image-note-btn{display:inline-flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-sm);background-color:#3b82f6;color:#fff;border:none;border-radius:6px;font-size:var(--font-size-sm);font-weight:500;cursor:pointer;transition:background-color .2s,transform .1s}#plant-note-btn:hover,#image-note-btn:hover{background-color:#2563eb;transform:translateY(-1px)}#plant-note-btn:active,#image-note-btn:active{transform:translateY(0)}.loading-message,.error-message,.empty-message{padding:var(--spacing-xl);text-align:center;color:var(--text-secondary)}.error-message{color:var(--danger-color);background-color:#fef2f2;border:1px solid #fecaca;border-radius:6px}.empty-message{font-style:italic}@media (max-width: 768px){.note-modal-content,.note-list-modal-content{max-width:95vw;margin:10px}.note-item-header{flex-direction:column;align-items:flex-start;gap:var(--spacing-sm)}.note-actions{margin-left:0}.note-item-meta{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs)}.filter-group{flex-direction:column;align-items:stretch}.search-group{flex-direction:column}}.note-counter{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;background-color:var(--primary-color);color:#fff;border-radius:50%;font-size:11px;font-weight:500;margin-left:var(--spacing-xs)}.note-counter.empty{background-color:var(--text-tertiary)}.note-status{display:inline-flex;align-items:center;gap:var(--spacing-xs);font-size:var(--font-size-xs);color:var(--text-secondary)}.note-status.has-notes{color:var(--success-color)}.note-status.has-notes:before{content:"●";color:var(--success-color)}.note-status.no-notes:before{content:"○";color:var(--text-tertiary)}.note-search-highlight{background-color:#fef08a;padding:1px 2px;border-radius:2px}.note-display{font-family:inherit;backdrop-filter:blur(5px);transition:all .3s ease}.note-display-header{padding:12px 16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:8px 8px 0 0;display:flex;justify-content:space-between;align-items:center}.note-display-header h4{margin:0;font-size:var(--font-size-sm);font-weight:600}.note-display-header .close-btn{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.note-display-header .close-btn:before{content:"✕";font-size:14px;transition:all .2s ease}.note-display-header .close-btn:hover{background-color:rgba(255,255,255,.2)}.note-display-content{padding:8px;max-height:160px;overflow-y:auto}.note-display-header{padding:12px 16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:8px 8px 0 0;display:flex;justify-content:space-between;align-items:center;user-select:none}.draggable-header{cursor:move}.draggable-header:active{cursor:grabbing}.note-display-controls{display:flex;gap:4px;align-items:center}.minimize-btn{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.25);color:#fff;font-size:14px;width:24px;height:24px;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;font-weight:700}.minimize-btn:hover{background:rgba(255,255,255,.25);transform:scale(1.1)}.note-display.minimized{max-height:40px;min-height:40px;overflow:hidden}.note-display.minimized .note-display-content{display:none!important}.note-display.collapsible{resize:both;min-width:250px;min-height:100px;max-width:500px;max-height:400px}.note-display{transition:all .3s cubic-bezier(.4,0,.2,1)}.note-display:hover{box-shadow:0 8px 25px rgba(0,0,0,.15)}.note-item-mini{padding:8px;border-bottom:1px solid #f0f0f0;transition:background-color .2s}.note-item-mini:hover{background-color:#f8f9fa}.note-item-mini:last-child{border-bottom:none}.note-title-mini{font-weight:600;font-size:var(--font-size-sm);color:var(--text-primary);margin-bottom:4px;line-height:1.3}.note-content-mini{font-size:var(--font-size-xs);color:var(--text-secondary);line-height:1.4;margin-bottom:4px}.note-time-mini{font-size:10px;color:var(--text-tertiary);text-align:right}.note-loading,.note-empty{padding:20px;text-align:center;color:var(--text-secondary);font-size:var(--font-size-sm)}.note-empty{font-style:italic}.plant-note-container,.image-note-container{animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.note-btn{position:relative;overflow:hidden;transition:all .3s ease}.note-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.note-btn:hover:before{left:100%}.note-btn:hover{box-shadow:0 4px 15px rgba(59,130,246,.3)}.note-counter{animation:pulse 2s infinite}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.note-counter.has-new{background-color:#ef4444;animation:bounce 1s infinite}@keyframes bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-3px)}60%{transform:translateY(-2px)}}@media (max-width: 768px){.note-display{width:280px!important;max-height:150px!important}.plant-note-container,.image-note-container{position:relative!important;top:auto!important;right:auto!important;margin:5px 0;background:none!important;padding:0!important;box-shadow:none!important}.note-display-content{max-height:120px}.note-item-mini{padding:6px}}@media (prefers-color-scheme: dark){.note-display{background:rgba(30,30,30,.95)!important;border-color:#4a4a4a!important}.note-display-header{background:linear-gradient(135deg,#4a5568,#2d3748)!important}.note-item-mini:hover{background-color:#2d3748!important}.note-title-mini{color:#e2e8f0!important}.note-content-mini{color:#a0aec0!important}.note-time-mini{color:#718096!important}}.note-display,.note-btn,.note-item-mini{transform:translateZ(0);will-change:transform}.right-box{margin-left:auto;width:auto;display:flex;align-items:center;gap:8px}.plant-note-badge{display:inline-flex;align-items:center;margin-left:auto;padding:2px 6px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border-radius:12px;font-size:10px;font-weight:600;box-shadow:0 1px 3px rgba(0,0,0,.2);transition:all var(--transition-fast)}.plant-note-badge:hover{background:linear-gradient(135deg,#059669,#047857);transform:scale(1.05)}.note-count{display:flex;align-items:center;gap:2px}.image-note-badge{position:absolute;top:4px;left:4px;background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;padding:2px 6px;border-radius:10px;font-size:9px;font-weight:600;box-shadow:0 1px 3px rgba(0,0,0,.3);z-index:2;transition:all var(--transition-fast)}.image-note-badge:hover{background:linear-gradient(135deg,#7c3aed,#6d28d9);transform:scale(1.1)}.image-note-count{display:flex;align-items:center;gap:2px}.plant-notes-section{border-top:1px solid var(--border-color);margin-top:var(--spacing-sm);padding-top:var(--spacing-sm)}.plant-notes-section .btn{width:100%;justify-content:center;font-size:var(--font-size-xs);padding:var(--spacing-xs) var(--spacing-sm)}.modal{animation:modalFadeIn .25s cubic-bezier(.4,0,.2,1) forwards;backdrop-filter:blur(8px);background-color:rgba(0,0,0,.6)}.modal.closing{animation:modalFadeOut .2s cubic-bezier(.4,0,.2,1) forwards}@keyframes modalFadeIn{0%{opacity:0;backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(8px)}}@keyframes modalFadeOut{0%{opacity:1;backdrop-filter:blur(8px)}to{opacity:0;backdrop-filter:blur(0px)}}@keyframes modalSlideIn{0%{transform:scale(.9) translateY(-20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@keyframes modalSlideOut{0%{transform:scale(1) translateY(0);opacity:1}to{transform:scale(.95) translateY(10px);opacity:0}}.note-modal-content{width:95%;max-width:650px;border-radius:20px;box-shadow:0 32px 64px -12px rgba(0,0,0,.25),0 25px 45px -5px rgba(0,0,0,.15),0 0 0 1px rgba(255,255,255,.1);border:none;backdrop-filter:blur(16px);background:rgba(255,255,255,.95);transform:scale(1) translateY(0);transition:all .3s cubic-bezier(.34,1.56,.64,1);animation:modalSlideIn .3s cubic-bezier(.34,1.56,.64,1) forwards;overflow:hidden;position:relative}.note-modal-content.closing{animation:modalSlideOut .2s cubic-bezier(.4,0,.2,1) forwards}.note-list-modal-content{width:95%;max-width:900px;height:85vh;max-height:750px;min-height:500px;border-radius:20px;box-shadow:0 32px 64px -12px rgba(0,0,0,.25),0 25px 45px -5px rgba(0,0,0,.15),0 0 0 1px rgba(255,255,255,.1);border:none;backdrop-filter:blur(16px);background:rgba(255,255,255,.95);transform:scale(1) translateY(0);transition:all .3s cubic-bezier(.34,1.56,.64,1);animation:modalSlideIn .3s cubic-bezier(.34,1.56,.64,1) forwards;overflow:hidden;display:flex;flex-direction:column}.note-list-modal-content.closing{animation:modalSlideOut .2s cubic-bezier(.4,0,.2,1) forwards}.modal-header{background:linear-gradient(135deg,#667eea,#764ba2,#667eea);background-size:200% 200%;animation:gradientShift 8s ease infinite;border-radius:20px 20px 0 0;padding:24px 28px;border-bottom:1px solid rgba(255,255,255,.1);position:relative;overflow:hidden;display:flex;align-items:center;justify-content:space-between;min-height:80px}@keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.modal-header:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,rgba(255,255,255,.15) 0%,transparent 50%,rgba(255,255,255,.15) 100%),radial-gradient(circle at 30% 30%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none;transition:opacity .3s ease}.modal-header:hover:before{opacity:1.2}.modal-header h2{margin:0;color:#fff;font-weight:700;font-size:1.5rem;letter-spacing:-.025em;text-shadow:0 2px 4px rgba(0,0,0,.3),0 1px 2px rgba(0,0,0,.2);position:relative;z-index:1;display:flex;align-items:center;gap:12px;flex:1}.modal-header h2:before{content:"";width:4px;height:24px;background:rgba(255,255,255,.6);border-radius:2px;transition:all .3s ease}.modal-header:hover h2:before{background:rgba(255,255,255,.9);height:28px}.close-button{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.25);font-size:18px;cursor:pointer;color:rgba(255,255,255,.9);padding:0;border-radius:12px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);backdrop-filter:blur(10px);position:relative;z-index:1;font-weight:400}.close-button:before{content:"✕";font-size:16px;transition:all .2s ease}.close-button:hover{background:rgba(239,68,68,.9);border-color:#ef4444;color:#fff;transform:scale(1.05) rotate(90deg);box-shadow:0 8px 25px rgba(239,68,68,.4),0 0 0 2px rgba(255,255,255,.2)}.close-button:active{transform:scale(.95) rotate(90deg)}.close-button:focus{outline:none;box-shadow:0 0 0 3px rgba(239,68,68,.3),0 8px 25px rgba(239,68,68,.4)}.modal-body{padding:28px 32px;max-height:60vh;overflow-y:auto;background:rgba(255,255,255,.98);backdrop-filter:blur(8px);flex:1;position:relative}.modal-body::-webkit-scrollbar{width:8px}.modal-body::-webkit-scrollbar-track{background:rgba(0,0,0,.05);border-radius:4px}.modal-body::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:4px;transition:all .3s ease}.modal-body::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#5a67d8,#6b46c1)}.modal-body{scrollbar-width:thin;scrollbar-color:#667eea rgba(0,0,0,.05)}.modal-footer{padding:20px 32px 28px;border-top:1px solid rgba(229,231,235,.3);display:flex;gap:16px;justify-content:flex-end;align-items:center;background:linear-gradient(135deg,rgba(248,250,252,.95),rgba(241,245,249,.95));border-radius:0 0 20px 20px;backdrop-filter:blur(12px);position:relative;min-height:70px}.modal-footer:before{content:"";position:absolute;top:0;left:32px;right:32px;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(229,231,235,.6) 20%,rgba(229,231,235,.6) 80%,transparent 100%)}.form-group{margin-bottom:24px;position:relative}.form-group label{display:block;margin-bottom:8px;font-weight:600;color:var(--text-primary);font-size:.875rem;letter-spacing:.025em;transition:color .2s ease}.form-group label:hover{color:#667eea}.required{color:#ef4444;font-weight:700}.form-group input,.form-group textarea,.form-group select{width:100%;padding:16px 18px;border:2px solid rgba(229,231,235,.8);border-radius:14px;font-size:.875rem;font-family:inherit;background:linear-gradient(135deg,rgba(255,255,255,.95),rgba(248,250,252,.95));backdrop-filter:blur(5px);box-shadow:0 1px 3px rgba(0,0,0,.08),inset 0 1px 2px rgba(255,255,255,.9);transition:all .3s cubic-bezier(.4,0,.2,1);position:relative}.form-group input::placeholder,.form-group textarea::placeholder{color:rgba(107,114,128,.6);transition:opacity .3s ease}.form-group input:focus::placeholder,.form-group textarea:focus::placeholder{opacity:.4}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 4px rgba(102,126,234,.15),0 8px 25px rgba(102,126,234,.1),inset 0 1px 2px rgba(255,255,255,.9);transform:translateY(-1px);background:linear-gradient(135deg,#fff,rgba(248,250,252,.98))}.form-group input:hover:not(:focus),.form-group textarea:hover:not(:focus),.form-group select:hover:not(:focus){border-color:rgba(102,126,234,.3);box-shadow:0 2px 8px rgba(0,0,0,.1),inset 0 1px 2px rgba(255,255,255,.9)}.form-group textarea{resize:vertical;min-height:140px;font-family:inherit;line-height:1.6}.form-group select{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px;padding-right:44px;-webkit-appearance:none;appearance:none}.char-counter{text-align:right;font-size:.75rem;color:var(--text-secondary);margin-top:6px;transition:all .3s ease;font-weight:500;display:flex;align-items:center;justify-content:space-between;padding:0 4px}.char-counter:before{content:"";flex:1;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(229,231,235,.6) 50%,transparent 100%);margin-right:12px}.char-counter.warning{color:#f59e0b;font-weight:600}.char-counter.danger{color:#ef4444;font-weight:700;animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}.form-help{font-size:.75rem;color:rgba(107,114,128,.8);margin-top:6px;font-style:italic;display:flex;align-items:center;gap:6px}.form-help:before{content:"Ὤ8";font-style:normal}.note-list-controls{display:flex;flex-direction:column;gap:16px;margin-bottom:24px;padding:20px;background:linear-gradient(135deg,rgba(248,250,252,.8),rgba(241,245,249,.8));border-radius:16px;border:1px solid rgba(229,231,235,.5);backdrop-filter:blur(8px);position:relative;overflow:hidden}.note-list-controls:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,#667eea,#764ba2,#667eea);background-size:200% 100%;animation:shimmer 3s linear infinite}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.search-group{flex:1;display:flex;gap:12px;align-items:stretch}.search-group input{padding:12px 16px;border:2px solid rgba(229,231,235,.6);border-radius:12px;font-size:.875rem;background:rgba(255,255,255,.9);transition:all .3s ease;flex:1}.search-group input:focus{border-color:#667eea;box-shadow:0 0 0 3px rgba(102,126,234,.1);background:#fff}.search-group button{padding:12px 20px;border:none;border-radius:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-weight:600;cursor:pointer;transition:all .3s ease;white-space:nowrap}.search-group button:hover{transform:translateY(-1px);box-shadow:0 8px 25px rgba(102,126,234,.3)}.filter-group{display:flex;gap:12px;align-items:stretch;justify-content:space-between}.filter-group select{padding:12px 16px;border:2px solid rgba(229,231,235,.6);border-radius:12px;font-size:.875rem;background:rgba(255,255,255,.9);min-width:140px}.note-list-container{max-height:calc(100% - 200px);overflow-y:auto;border:1px solid rgba(229,231,235,.4);border-radius:16px;background:rgba(255,255,255,.6);backdrop-filter:blur(8px);flex:1;position:relative}.note-list-container::-webkit-scrollbar{width:8px}.note-list-container::-webkit-scrollbar-track{background:rgba(0,0,0,.05);border-radius:4px}.note-list-container::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:4px;transition:all .3s ease}.note-list-container::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#5a67d8,#6b46c1)}.note-item{padding:20px;border-bottom:1px solid rgba(229,231,235,.3);transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;background:rgba(255,255,255,.4);backdrop-filter:blur(4px)}.note-item:before{content:"";position:absolute;left:0;top:0;bottom:0;width:0;background:linear-gradient(135deg,#667eea,#764ba2);transition:width .3s ease}.note-item:hover{background:rgba(255,255,255,.8);transform:translate(4px);box-shadow:0 8px 25px rgba(0,0,0,.08),0 2px 8px rgba(0,0,0,.06)}.note-item:hover:before{width:4px}.note-item:last-child{border-bottom:none}.note-item-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:16px}.note-title{font-weight:700;color:var(--text-primary);margin:0;font-size:1rem;line-height:1.4;flex:1}.note-actions{display:flex;gap:8px;opacity:0;transition:opacity .3s ease}.note-item:hover .note-actions{opacity:1}.note-actions .btn{padding:6px 12px;font-size:.75rem;border-radius:8px;font-weight:600;transition:all .3s ease}.note-actions .btn:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.note-item-meta{display:flex;gap:12px;align-items:center;margin-bottom:12px;font-size:.75rem;flex-wrap:wrap}.note-type{padding:4px 10px;border-radius:16px;font-weight:600;text-transform:uppercase;font-size:.625rem;letter-spacing:.05em;position:relative;overflow:hidden}.note-type:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s ease}.note-type:hover:before{left:100%}.note-type-general{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af;border:1px solid rgba(30,64,175,.2)}.note-type-observation{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534;border:1px solid rgba(22,101,52,.2)}.note-type-annotation{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e;border:1px solid rgba(146,64,14,.2)}.note-timestamp,.note-author{color:var(--text-secondary);font-weight:500}.note-content{color:var(--text-primary);line-height:1.6;margin-bottom:12px;font-size:.875rem}.note-tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}.tag{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);color:#374151;padding:4px 8px;border-radius:12px;font-size:.625rem;font-weight:600;transition:all .3s ease;border:1px solid rgba(229,231,235,.6)}.tag:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;transform:translateY(-1px);box-shadow:0 4px 8px rgba(102,126,234,.3)}.loading-message,.empty-message,.error-message{text-align:center;padding:var(--spacing-xl);color:var(--text-secondary);font-style:italic}.error-message{color:#dc2626}@media print{.note-display,.plant-note-container,.image-note-container,.plant-note-badge,.image-note-badge{display:none!important}}.note-count-display{color:#059669;font-weight:700;margin-left:5px;font-size:var(--font-size-sm)}.note-count-overlay{position:absolute;top:-5px;right:-5px;background:#dc2626;color:#fff;border-radius:50%;width:16px;height:16px;font-size:10px;display:flex;align-items:center;justify-content:center;font-weight:700;line-height:1}.image-note-badge{position:absolute;z-index:10;pointer-events:none;max-width:calc(100% - 8px);overflow:hidden}.image-note-count{color:#fff;padding:2px 6px;border-radius:12px;font-size:11px;font-weight:700;display:inline-block;white-space:nowrap;line-height:1;max-width:100%;box-sizing:border-box}#plant-note-btn,#image-note-btn{position:relative}.deletion-stats .stat-item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f3f4f6}.deletion-stats .stat-item:last-child{border-bottom:none}.deletion-stats .stat-label{color:var(--text-secondary);font-size:var(--font-size-sm)}.deletion-stats .stat-value{font-weight:600;color:var(--text-primary);font-size:var(--font-size-sm)}#unskip-plant-modal .plant-info,#uncomplete-plant-modal .plant-info{max-width:100%;overflow:hidden;word-wrap:break-word}#unskip-plant-modal .modal-content,#uncomplete-plant-modal .modal-content{max-width:500px;width:90vw;box-sizing:border-box}#unskip-plant-modal .plant-info,#uncomplete-plant-modal .plant-info{display:flex!important;flex-direction:column!important;gap:8px!important;width:100%!important}#unskip-plant-modal .info-row,#uncomplete-plant-modal .info-row,.modal .plant-info .info-row{display:flex!important;flex-direction:column!important;align-items:flex-start!important;padding:5px 0!important;white-space:normal!important;word-wrap:break-word!important;width:100%!important}#unskip-plant-modal .info-label,#uncomplete-plant-modal .info-label,.modal .plant-info .info-label{color:var(--text-secondary)!important;font-size:var(--font-size-sm)!important;flex-shrink:0;min-width:100px;max-width:40%}#unskip-plant-modal .info-value,#uncomplete-plant-modal .info-value,.modal .plant-info .info-value{color:var(--text-primary)!important;font-size:var(--font-size-sm)!important;flex:1;word-wrap:break-word!important;word-break:break-word!important;white-space:normal!important;text-align:right;max-width:60%;overflow-wrap:break-word}.modal .info-row{display:flex;justify-content:space-between;align-items:flex-start;padding:5px 0;gap:10px}.modal .info-label{color:var(--text-secondary);font-size:var(--font-size-sm);flex-shrink:0;min-width:100px}.modal .info-value{color:var(--text-primary);font-size:var(--font-size-sm);flex:1;word-wrap:break-word;word-break:break-word;white-space:normal;text-align:right}.deletion-stats .info-row{display:flex;justify-content:space-between;align-items:center;padding:5px 0}.deletion-stats .info-label{color:var(--text-secondary);font-size:var(--font-size-sm)}.deletion-stats .info-value{color:var(--text-primary);font-size:var(--font-size-sm)}.deletion-stats .loading-spinner{width:16px;height:16px;border:2px solid #f3f4f6;border-top:2px solid var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.warning-notice{background:#fef2f2;border:1px solid #fecaca;border-radius:8px;padding:15px}.backup-notice{background:#ecfdf5;border:1px solid #a7f3d0;border-radius:8px;padding:15px}.checkbox-label{display:flex;align-items:center;cursor:pointer;user-select:none}.checkbox-label input[type=checkbox]{margin-right:10px;transform:scale(1.2);cursor:pointer}.modal-content h3{margin:0 0 15px;color:var(--text-primary);display:flex;align-items:center;gap:10px}.modal-content h4{margin:0 0 10px;color:var(--text-primary);font-size:var(--font-size-base);font-weight:600}.modal-footer{display:flex;gap:10px;justify-content:flex-end;margin-top:20px}.modal-footer .btn{min-width:120px}.settings-tabs{display:flex;gap:2px;border-bottom:2px solid var(--border-color);margin-bottom:20px}.tab-button{padding:12px 20px;border:none;background:var(--bg-secondary);color:var(--text-secondary);cursor:pointer;font-weight:500;transition:all .2s ease;border-top-left-radius:6px;border-top-right-radius:6px;position:relative}.tab-button:hover{background:var(--bg-primary);color:var(--text-primary)}.tab-button.active{background:var(--bg-primary);color:var(--primary-color);font-weight:600}.tab-button.active:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:var(--primary-color)}.tab-content{display:none}.tab-content.active{display:block}.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.section-header h4{margin:0;font-size:1.1rem;font-weight:600;color:var(--text-primary)}.custom-types-list{min-height:200px;max-height:400px;overflow-y:auto;border:1px solid var(--border-color);border-radius:8px;padding:16px;background:var(--bg-secondary)}.custom-type-item{display:flex;align-items:center;justify-content:space-between;padding:16px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);margin-bottom:12px;transition:all .2s ease}.custom-type-item:hover{border-color:var(--primary-color);box-shadow:0 2px 4px rgba(0,0,0,.1)}.custom-type-info{display:flex;align-items:center;gap:16px;flex:1}.type-color-preview{width:24px;height:24px;border-radius:50%;border:2px solid var(--border-color);flex-shrink:0}.type-details{flex:1}.type-name{font-weight:600;color:var(--text-primary);margin-bottom:4px}.type-meta{display:flex;gap:16px;font-size:.875rem;color:var(--text-secondary)}.type-badge{padding:2px 8px;border-radius:4px;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em}.type-badge.point{background:#dbeafe;color:#1e40af}.type-badge.region{background:#dcfce7;color:#166534}.type-actions{display:flex;gap:8px}.type-action-btn{padding:6px 12px;border:none;border-radius:4px;font-size:.875rem;cursor:pointer;transition:all .2s ease}.type-action-btn.edit{background:#f3f4f6;color:var(--text-primary)}.type-action-btn.edit:hover{background:#e5e7eb}.type-action-btn.delete{background:#fef2f2;color:#dc2626}.type-action-btn.delete:hover{background:#fecaca}.type-form-section{margin-top:20px;padding:20px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-secondary)}.type-form-section h4{margin:0 0 20px;color:var(--text-primary);font-size:1.1rem;font-weight:600}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.form-group{display:flex;flex-direction:column;gap:8px}.form-group label{font-weight:500;color:var(--text-primary);font-size:.875rem}.form-group input,.form-group textarea,.form-group select{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;font-size:.875rem;transition:border-color .2s,box-shadow .2s}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(37,99,235,.1)}.form-group textarea{resize:vertical;min-height:80px}.form-group small{color:var(--text-secondary);font-size:.75rem}.color-input-container{display:flex;gap:8px;align-items:center}.color-input-container input[type=color]{width:40px;height:40px;border:1px solid var(--border-color);border-radius:6px;cursor:pointer;padding:0}.color-input-container input[type=text]{flex:1;font-family:monospace}.form-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:20px}.mode-display{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px;margin-bottom:20px}.mode-info{display:flex;align-items:center;gap:8px;margin-bottom:8px}.mode-info:last-child{margin-bottom:0}.mode-label{font-weight:500;color:var(--text-secondary);min-width:120px}.mode-value{font-weight:600;color:var(--text-primary)}.mode-actions{display:flex;flex-direction:column;gap:16px}.custom-type-selector{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.custom-type-selector label{font-weight:500;color:var(--text-primary);white-space:nowrap}.custom-type-selector select{flex:1;min-width:200px;padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;font-size:.875rem}.usage-instructions{border-top:1px solid var(--border-color);padding-top:20px}.usage-instructions h4{margin:0 0 16px;color:var(--text-primary);font-size:1.1rem;font-weight:600}.instruction-group{margin-bottom:20px}.instruction-group h5{margin:0 0 8px;color:var(--text-primary);font-size:.95rem;font-weight:600}.instruction-group ul{margin:0;padding-left:20px;color:var(--text-secondary)}.instruction-group li{margin-bottom:4px}.section-group{padding:20px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-secondary)}.section-group h4{margin:0 0 12px;color:var(--text-primary);font-size:1.1rem;font-weight:600}.section-group p{margin:0 0 16px;color:var(--text-secondary);font-size:.875rem}.export-stats{display:flex;gap:24px;margin-bottom:16px;padding:12px 16px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px}.stat-item{display:flex;align-items:center;gap:8px}.stat-label{font-weight:500;color:var(--text-secondary);font-size:.875rem}.stat-value{font-weight:600;color:var(--text-primary);font-size:.875rem}.import-area{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:16px}.file-info{display:flex;align-items:center;gap:12px;padding:8px 12px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px}.file-name{font-weight:500;color:var(--text-primary);font-size:.875rem}.import-results{padding:16px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;margin-top:16px}.import-results h5{margin:0 0 12px;color:var(--text-primary);font-size:.95rem;font-weight:600}.placeholder-message{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px 20px;color:var(--text-secondary)}.placeholder-message h4{margin:0 0 8px;color:var(--text-primary);font-size:1.1rem;font-weight:600}.placeholder-message p{margin:0;font-size:.875rem}.sift-calibration-dialog{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999;display:flex;align-items:center;justify-content:center;animation:fadeIn .3s ease-out}.sift-calibration-dialog .dialog-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);backdrop-filter:blur(2px)}.sift-calibration-dialog .dialog-content{position:relative;background:var(--bg-primary);border-radius:12px;padding:24px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04);animation:slideIn .3s ease-out}.sift-calibration-dialog h3{margin:0 0 16px;color:var(--text-primary);font-size:1.25rem;font-weight:600;text-align:center}.sift-calibration-dialog .quality-info{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px;margin-bottom:20px}.sift-calibration-dialog .quality-info p{margin:0 0 8px;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;color:var(--text-primary)}.sift-calibration-dialog .quality-info p:last-child{margin-bottom:0}.sift-calibration-dialog .quality-info strong{color:var(--text-primary);font-weight:600}.sift-calibration-dialog .preview-controls{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;padding:16px;margin-bottom:20px}.sift-calibration-dialog .preview-controls label{display:block;margin-bottom:8px;font-size:.875rem;color:var(--text-primary);cursor:pointer;user-select:none}.sift-calibration-dialog .preview-controls label:last-child{margin-bottom:0}.sift-calibration-dialog .preview-controls input[type=checkbox]{margin-right:8px;accent-color:var(--primary-color)}.sift-calibration-dialog .dialog-actions{display:flex;gap:12px;margin-bottom:12px}.sift-calibration-dialog .btn-accept{flex:1;padding:12px 16px;background:var(--success-color);color:#fff;border:none;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}.sift-calibration-dialog .btn-accept:hover{background:var(--success-hover)}.sift-calibration-dialog .btn-reject{flex:1;padding:12px 16px;background:var(--danger-color);color:#fff;border:none;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}.sift-calibration-dialog .btn-reject:hover{background:var(--danger-hover)}.sift-calibration-dialog .dialog-help{text-align:center;color:var(--text-secondary);font-size:.75rem;margin-top:8px}.sift-calibration-dialog .dialog-help small{font-size:inherit}#sift-match-btn{background:var(--primary-color);color:#fff;border:none;position:relative;overflow:hidden}#sift-match-btn:hover{background:var(--primary-hover)}#sift-match-btn:disabled{background:var(--text-tertiary);cursor:not-allowed}#sift-match-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}#sift-match-btn:hover:before{left:100%}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.sift-calibration-dialog .dialog-content{padding:16px;max-width:95%}.sift-calibration-dialog .dialog-actions{flex-direction:column}.sift-calibration-dialog .btn-accept,.sift-calibration-dialog .btn-reject{width:100%}}.fullscreen-loading{position:fixed;top:0;left:0;width:100vw;height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10000;color:#fff;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.loading-title{font-size:2.5rem;font-weight:700;margin-bottom:1rem;text-align:center;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3)}.loading-subtitle{font-size:1.25rem;font-weight:500;margin-bottom:.5rem;text-align:center;color:rgba(255,255,255,.9)}.loading-details{font-size:1rem;font-weight:400;margin-bottom:2rem;text-align:center;color:rgba(255,255,255,.8)}.loading-progress{width:100%;max-width:400px;display:flex;flex-direction:column;align-items:center;gap:1rem}.fullscreen-loading .progress-bar{width:100%;height:8px;background-color:rgba(255,255,255,.2);border-radius:4px;overflow:hidden;box-shadow:0 2px 4px rgba(0,0,0,.2)}.fullscreen-loading .progress-fill{height:100%;background:linear-gradient(90deg,#10b981,#059669,#047857);border-radius:4px;transition:width .3s ease;width:0%;box-shadow:0 0 10px rgba(16,185,129,.5)}.fullscreen-loading #progress-text{font-size:1.125rem;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3);margin:0}.fullscreen-loading .loading-spinner{width:60px;height:60px;border:6px solid rgba(255,255,255,.3);border-top:6px solid white;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:2rem;box-shadow:0 4px 8px rgba(0,0,0,.2)}@media (max-width: 768px){.loading-title{font-size:2rem}.loading-subtitle{font-size:1.125rem}.loading-details{font-size:.875rem;margin-bottom:1.5rem}.loading-progress{max-width:300px;padding:0 1rem}}.auto-direction-controls{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-sm)}.mode-selector{padding:6px 12px;border:1px solid var(--border-color);border-radius:var(--border-radius);background:var(--bg-surface);color:var(--text-primary);font-size:var(--font-size-xs);font-family:var(--font-family);min-width:120px;transition:all .2s ease;outline:none}.mode-selector:hover{border-color:var(--primary-color);background:var(--bg-hover)}.mode-selector:focus{border-color:var(--primary-color);box-shadow:0 0 0 2px rgba(59,130,246,.2);background:var(--bg-surface)}.progress-indicator{padding:var(--spacing-sm);background:var(--bg-surface);border:1px solid var(--border-color);border-radius:var(--border-radius);margin-top:var(--spacing-xs)}.progress-text{font-size:var(--font-size-xs);color:var(--text-secondary);margin-bottom:var(--spacing-xs);display:flex;justify-content:space-between;align-items:center}.progress-bar{width:100%;height:6px;background:var(--bg-muted);border-radius:3px;overflow:hidden;position:relative}.progress-fill{height:100%;background:linear-gradient(90deg,var(--primary-color),var(--accent-color));border-radius:3px;transition:width .3s ease;width:0%}#progress-mode-info{font-weight:500;color:var(--text-primary)}.cross-sectional-indicator{background:linear-gradient(135deg,#8b5cf6,#06b6d4)}.longitudinal-indicator{background:linear-gradient(135deg,#10b981,#3b82f6)}.mode-switching{animation:modeSwitchPulse .6s ease-in-out}@keyframes modeSwitchPulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}#auto-direction-btn.cross-sectional-mode{background:linear-gradient(135deg,#8b5cf6,#06b6d4);border-color:#8b5cf6}#auto-direction-btn.cross-sectional-mode:hover{background:linear-gradient(135deg,#7c3aed,#0891b2);transform:translateY(-1px);box-shadow:0 8px 25px rgba(139,92,246,.3)}#auto-direction-btn.longitudinal-mode{background:linear-gradient(135deg,#10b981,#3b82f6);border-color:#10b981}#auto-direction-btn.longitudinal-mode:hover{background:linear-gradient(135deg,#059669,#2563eb);transform:translateY(-1px);box-shadow:0 8px 25px rgba(16,185,129,.3)}.progress-status{display:flex;align-items:center;gap:var(--spacing-xs);font-size:var(--font-size-xs);color:var(--text-secondary)}.status-dot{width:6px;height:6px;border-radius:50%;background:var(--success-color);animation:statusPulse 2s infinite}@keyframes statusPulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(1.2)}}@media (max-width: 768px){.auto-direction-controls{flex-direction:column;align-items:stretch;gap:var(--spacing-xs)}.mode-selector{min-width:unset;width:100%}}
